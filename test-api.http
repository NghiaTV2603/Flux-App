# ğŸ§ª Flux API Testing Suite
# 
# ğŸŒŸ RECOMMENDED: Sá»­ dá»¥ng Gateway API cho Frontend testing
# Frontend chá»‰ nÃªn gá»i qua Gateway API (Port 3000)
#
# ğŸ“ Cáº¥u trÃºc Test Files:
# â”œâ”€â”€ tests/gateway-complete.http  - â­ MAIN: Complete Gateway API Tests
# â”œâ”€â”€ tests/gateway-api.http       - Gateway API (Port 3000) 
# â”œâ”€â”€ tests/auth-service.http      - Auth Service (Port 3001) - Direct testing
# â”œâ”€â”€ tests/user-service.http      - User Service (Port 3002) - Direct testing
# â””â”€â”€ tests/server-service.http    - Server Service (Port 3003) - Direct testing

### ============= QUICK HEALTH CHECKS =============

### Gateway API Health
GET http://localhost:3000/health

### Auth Service Health  
GET http://localhost:3001/health

### User Service Health
GET http://localhost:3002/health

### Server Service Health
GET http://localhost:3003/health

### ============= QUICK TEST SAMPLES =============

### Quick Register Test
POST http://localhost:3001/auth/register
Content-Type: application/json

{
  "email": "quicktest@example.com",
  "username": "quicktest",
  "password": "password123"
}

### Quick Login Test
POST http://localhost:3001/auth/login
Content-Type: application/json

{
  "email": "quicktest@example.com", 
  "password": "password123"
}

### Quick Gateway Test
POST http://localhost:3000/auth/login
Content-Type: application/json

{
  "email": "quicktest@example.com",
  "password": "password123"
}

### ============= DETAILED TEST SUITES =============

# â­ GATEWAY COMPLETE TESTS (RECOMMENDED FOR FRONTEND)
# File: tests/gateway-complete.http
# Bao gá»“m: 84+ test cases covering ALL Gateway endpoints
# Port: 3000 (API Gateway)
# Features: Auth, Users, Servers, Channels, Messages, Files, Realtime
# ğŸ¯ ÄÃ¢y lÃ  file chÃ­nh cho Frontend development!

# ğŸŒ GATEWAY API TESTS (Basic)
# File: tests/gateway-api.http
# Bao gá»“m: Basic Gateway endpoints vá»›i authentication
# Port: 3000
# Routes: /auth/*, /users/*, /servers/*, /channels/*, etc.

# ğŸ”§ DIRECT SERVICE TESTS (For Backend debugging only)
# ğŸ” File: tests/auth-service.http - Auth Service (Port 3001)
# ğŸ‘¤ File: tests/user-service.http - User Service (Port 3002) 
# ğŸ  File: tests/server-service.http - Server Service (Port 3003)

### ============= TESTING WORKFLOW =============

# ğŸ¯ FRONTEND DEVELOPMENT:
# BÆ°á»›c 1: Má»Ÿ tests/gateway-complete.http
# BÆ°á»›c 2: Register & Login Ä‘á»ƒ láº¥y accessToken
# BÆ°á»›c 3: Test cÃ¡c features cáº§n thiáº¿t
# BÆ°á»›c 4: Integrate vá»›i Frontend code

# ğŸ”§ BACKEND DEBUGGING:
# BÆ°á»›c 1: Test Health Checks (á»Ÿ trÃªn)
# BÆ°á»›c 2: Chá»n service cáº§n debug
# BÆ°á»›c 3: Má»Ÿ file test tÆ°Æ¡ng á»©ng trong thÆ° má»¥c tests/
# BÆ°á»›c 4: Cháº¡y tá»«ng test case hoáº·c toÃ n bá»™ suite
# BÆ°á»›c 5: Kiá»ƒm tra logs vÃ  responses

### ============= SERVICE PORTS & URLS =============

# Gateway API:    http://localhost:3000  (Routes to all services)
# Auth Service:   http://localhost:3001  (Authentication & Authorization)
# User Service:   http://localhost:3002  (Users, Friends, Social)
# Server Service: http://localhost:3003  (Servers, Channels, Roles)

### ============= TESTING NOTES =============

# ğŸ“‹ Checklist khi test:
# âœ… Health checks pass
# âœ… Authentication flow works
# âœ… CRUD operations successful  
# âœ… Error handling correct
# âœ… Rate limiting functional
# âœ… Permissions enforced
# âœ… Data validation working

# ğŸ”§ Debug Tips:
# - Check Docker containers are running
# - Verify database connections
# - Monitor service logs: docker-compose logs -f [service-name]
# - Use Postman/Insomnia for complex workflows
# - Check network connectivity between services

# ğŸ“Š Performance Monitoring:
# - Response times < 200ms for simple queries
# - Rate limits respected
# - Memory usage stable
# - Database queries optimized

### ============= ENVIRONMENT SETUP =============

# Development Environment:
# 1. Start services: docker-compose up -d
# 2. Wait for health checks to pass (~30s)
# 3. Run tests in order: Auth â†’ User â†’ Server â†’ Gateway
# 4. Monitor logs for any errors

# Variables you might need to update:
@testEmail = your-test-email@example.com
@testPassword = your-test-password
@testUserId = your-test-user-id

### ============= COMMON ERROR SCENARIOS =============

# ğŸš¨ If tests fail, check:
# - Are all services running? (docker ps)
# - Are databases ready? (Check health endpoints)
# - Are ports available? (3000-3003)
# - Is there enough memory? (Docker Desktop)
# - Are environment variables set correctly?

# ğŸ”„ Recovery steps:
# 1. Restart services: docker-compose restart
# 2. Check logs: docker-compose logs -f
# 3. Rebuild if needed: docker-compose up -d --build
# 4. Clear Redis cache if auth issues persist

### END OF MAIN TEST FILE
### Use specific test files in tests/ directory for detailed testing 